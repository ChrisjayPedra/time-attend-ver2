

<nz-card class="card" style=" background-color: rgba(255,255,255,0.9); text-align:center;" nzTitle="Add user">

  <form nz-form [formGroup]="validateForm"  class="register-form" (ngSubmit)="submitForm()">

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Username</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
        <input nz-input formControlName="userName" placeholder="Enter Username" />
        <ng-template #userErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your username!</ng-container>
          <ng-container *ngIf="control.hasError('duplicated')">The username is already exist!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Employee Name</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback  [nzErrorTip]="userErrorTpl">
        <input nz-input formControlName="employeeName" placeholder="Enter Username" />
        <ng-template #userErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your Name!</ng-container>

        </ng-template>
      </nz-form-control>
    </nz-form-item>


    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>E-mail</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="emailErrorTpl">
        <input nz-input formControlName="email" placeholder="Enter Email" type="email" />
        <ng-template #emailErrorTpl let-control>
          <ng-container *ngIf="control.hasError('email')">The input is not valid E-mail!</ng-container>
          <ng-container *ngIf="control.hasError('required')">Please input your E-mail!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <!-- <nz-form-item>
      <nz-form-label [nzSpan]="7" nzFor="accessType" nzRequired>Access Type</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="Please select Access Type">
        <nz-select formControlName="accessType" nzPlaceHolder="Select an Access type">
          <nz-option nzValue="admin" nzLabel="Admin"></nz-option>
          <nz-option nzValue="user" nzLabel="User"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item> -->


    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Password</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">

        <nz-input-group [nzSuffix]="suffixTemplate">
          <input minlength="8" [type]="passwordVisible ? 'text' : 'password'" nz-input formControlName="password" placeholder="Enter password" (ngModelChange)="validateConfirmPassword()" />
        </nz-input-group>

        <ng-template  #passwordErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your password!</ng-container>
          <ng-container *ngIf="control.hasError('minlength')">Password minimum length 8</ng-container>
          <ng-container *ngIf="control.hasError('confirm')">Password is not match</ng-container>

        </ng-template>


        <ng-template #suffixTemplate>
          <span nz-icon  [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"  (click)="passwordVisible = !passwordVisible" ></span>
        </ng-template>

      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Confirm Password</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">

        <input  [type]="passwordVisible ? 'text' : 'password'" nz-input formControlName="confirm" placeholder="Confirm your password" />

        <ng-template #passwordErrorTpl let-control  #suffixTemplate>
          <ng-container *ngIf="control.hasError('required')">Please confirm your password!</ng-container>
          <ng-container *ngIf="control.hasError('confirm')">Password is not match</ng-container>

        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzOffset]="6" [nzSpan]="12">
        <button nz-button nzType="primary" [disabled]="!validateForm.valid"  nzShape="round">Register</button>
        <button nz-button (click)="resetForm($event)"  nzShape="round">Reset</button>
        <button nz-button nzType="primary" nzShape="round" [routerLink]="['/home/userlist']">Back</button>
      </nz-form-control>

    </nz-form-item>

  </form>
  </nz-card>


