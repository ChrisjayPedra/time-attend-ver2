
<nz-card class="card" style=" background-color: rgba(255,255,255,0.3); text-align:center;" nzTitle="Register Employee">

  <form nz-form [formGroup]="validateForm"  class="register-form" (ngSubmit)="submitForm()">

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>First name</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl">
        <input nz-input formControlName="fname" placeholder="Enter First name" />
        <ng-template #userErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your First name!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Middle name</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl1">
        <input nz-input formControlName="mname" placeholder="Enter Middle name" />
        <ng-template #userErrorTpl1 let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your Middle name!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Last name</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl2">
        <input nz-input formControlName="lname" placeholder="Enter Last name" />
        <ng-template #userErrorTpl2 let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your Last name!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Contact Number</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl3">
        <input nz-input formControlName="number" placeholder="Enter Contact number" />
        <ng-template #userErrorTpl3 let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your Contact Number!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>


    <nz-form-item>

      <nz-form-label [nzSpan]="7" nzRequired> Profile</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl4">


            <span nz-icon nzType="upload"> <input type="file" (change)="onFileSelected($event)" > </span>


        <ng-template #userErrorTpl4 let-control>
          <ng-container *ngIf="control.hasError('required')">Please add profile!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Department</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl5">
        <input nz-input formControlName="department" placeholder="Enter Department" />
        <ng-template #userErrorTpl5 let-control>
          <ng-container *ngIf="control.hasError('required')">Please input employee department</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired> Position</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="userErrorTpl6">
        <input nz-input formControlName="position" placeholder="Enter position" />
        <ng-template #userErrorTpl6 let-control>
          <ng-container *ngIf="control.hasError('required')">Please input employee position!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>


    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Username</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl7">
        <input nz-input formControlName="userName" placeholder="Enter Username" />
        <ng-template #userErrorTpl7 let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your username!</ng-container>
          <ng-container *ngIf="control.hasError('duplicated')">The username is already exist!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>



    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>E-mail</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="emailErrorTpl">
        <input nz-input formControlName="email" placeholder="Enter Email" type="email" />
        <ng-template #emailErrorTpl let-control>
          <ng-container *ngIf="control.hasError('email')">The input is not valid E-mail!</ng-container>
          <ng-container *ngIf="control.hasError('required')">Please input your E-mail!</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Password</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">

        <nz-input-group [nzSuffix]="suffixTemplate">
          <input minlength="8" [type]="passwordVisible ? 'text' : 'password'" nz-input formControlName="password" placeholder="Enter password" (ngModelChange)="validateConfirmPassword()" />
        </nz-input-group>

        <ng-template  #passwordErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">Please input your password!</ng-container>
          <ng-container *ngIf="control.hasError('minlength')">Password minimum length 8</ng-container>
          <ng-container *ngIf="control.hasError('confirm')">Password is not match</ng-container>

        </ng-template>


        <ng-template #suffixTemplate>
          <span nz-icon  [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"  (click)="passwordVisible = !passwordVisible" ></span>
        </ng-template>

      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Confirm Password</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">

        <input  [type]="passwordVisible ? 'text' : 'password'" nz-input formControlName="confirm" placeholder="Confirm your password" />

        <ng-template #passwordErrorTpl let-control  #suffixTemplate>
          <ng-container *ngIf="control.hasError('required')">Please confirm your password!</ng-container>
          <ng-container *ngIf="control.hasError('confirm')">Password is not match</ng-container>

        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzOffset]="6" [nzSpan]="12">
        <button nz-button nzType="primary" [disabled]="!validateForm.valid"  nzShape="round">Register</button>
        <button nz-button (click)="resetForm($event)"  nzShape="round">Reset</button>
        <button nz-button nzType="primary" nzShape="round" [routerLink]="['']">Back</button>
      </nz-form-control>

    </nz-form-item>
  </form>
  </nz-card>


